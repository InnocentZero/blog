<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">

    <title>OpenMP Optimisations - Home</title>
    <meta name="description" content="My working blog. Have fun!">

    
    <link rel="stylesheet" href="https://innocentzero.github.io/blog/base.css">
    <link rel="stylesheet" href="https://innocentzero.github.io/blog/dark.css">

    <link rel="preload" href=https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;font-awesome&#x2F;6.3.0&#x2F;css&#x2F;all.min.css as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href=https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;font-awesome&#x2F;6.3.0&#x2F;css&#x2F;all.min.css></noscript>

    
    <link rel="alternate" type="application/atom+xml" title="RSS" href="https://innocentzero.github.io/blog/atom.xml">
    

    
    
    <meta property="og:locale" content="en_US">
    
    <meta property="og:title" content="OpenMP Optimisations">
    
    <meta property="og:type" content="article">
    <meta property="article:author" content="https://innocentzero.github.io/blog/about/">
    <meta property="article:published_time" content="2023-04-14">
    
    
    <meta property="article:tag" content="software">
    
    <meta property="article:tag" content="C++">
    
    <meta property="article:tag" content="HPC">
    
    
    
    
    <meta property="og:url" content="https://innocentzero.github.io/blog/projects/project-2/">
    
    
    <meta property="og:description" content="Who knew parallelisation would be so easy!
">
    


    
    
</head>
<body>
<div class="container">
    
    
    <header>
        <h1 class="site-header">
            <a href="https:&#x2F;&#x2F;innocentzero.github.io&#x2F;blog">Home</a>
        </h1>
        <nav>
            <ul>
            
            
                
                <li><a class="active" href="https:&#x2F;&#x2F;innocentzero.github.io&#x2F;blog&#x2F;projects">Projects</a></li>
            
                
                <li><a  href="https:&#x2F;&#x2F;innocentzero.github.io&#x2F;blog&#x2F;blog">Blog</a></li>
            
                
                <li><a  href="https:&#x2F;&#x2F;innocentzero.github.io&#x2F;blog&#x2F;tags">Tags</a></li>
            
                
                <li><a  href="https:&#x2F;&#x2F;innocentzero.github.io&#x2F;blog&#x2F;about">About</a></li>
            
            
            </ul>
        </nav>
    </header>
    
    

<article class="post">
    
    
    
        
        <header>
            <h1>OpenMP Optimisations</h1>
            <h2 class="post-summary">Who knew parallelisation would be so easy!
</h2>
        </header>
        
        
<div class="article-info">
    
    <div class="article-date">April 14, 2023</div>
    
    <div class="article-taxonomies">
        
        â—¦
        <ul class="article-categories">
            
            <li><a href="https://innocentzero.github.io/blog/categories/software/">software</a></li>
            
        </ul>
        
        
        <ul class="article-tags">
            
            <li><a href="https://innocentzero.github.io/blog/tags/software/">#software</a></li>
            
            <li><a href="https://innocentzero.github.io/blog/tags/c/">#C++</a></li>
            
            <li><a href="https://innocentzero.github.io/blog/tags/hpc/">#HPC</a></li>
            
        </ul>
        
    </div>
    
</div>

        
    
    
    <div class="content">
        <span id="continue-reading"></span>
<p>I recently worked on a project that involved extensive use of <a href="https://www.openmp.org/">OpenMP</a>. it might be restricted in its abilities but believe me when I say this, it is one of the easiest and the most beginner friendly frameworks to work with when it comes to concurrency and parallel programming. </p>
<p>While the technical details are not important, it primarily works on compiler directives. Often times outperforming both <code>std::async</code> and <code>std::threads</code>, it definitely heavily optimises your code. The most obvious case where you'd benefit from parallel code is loops. It has the best support for loops. I was asked multiple times during my project why I preferred this over something native to C++ like <code>std::threads</code>. There are a multitude of reasons. </p>
<ol>
<li><code>threads</code> is STL. As with all things, STL implementations suck when it comes to anything other than competetive programming (too bad Codeforces <a href="https://codeforces.com/blog/entry/7552">does not</a> <a href="https://codeforces.com/blog/entry/2496">support</a> these). </li>
<li><code>threads</code> asks you to write purely functional ... well everything. It becomes an unnecessary pain to even think about complicated algorithms that absolutely need a non constant data structure. Sure, functional programming is beautiful, and mastery over it is probably a complete command over programmable logic, but after a certain point everything just makes things hard.</li>
<li>It doesn't (more like cannot) inline usual functions. Functors, yes maybe, but why do you want me to wrap everything in a class of its own and add <a href="https://godbolt.org/z/Gq49Pj3MW">more assembly overhead</a> just for the compiler to know what the function signature is!</li>
</ol>
<p>These are just a few of the many issues with it. I haven't studied <code>async</code> in much detail, so I don't think I can comment on it. Some people may also recommend CUDA, it's just too low level for my job. All this being said, just because OpenMP is easy doesn't mean it doesn't come with its own sets of problems. To its credit though, the manual has a solution for pretty much everything you possibly have a query over. </p>

    </div>
    

    
</article>


    <footer>
        <p>
            
<span class="icon-text">
  

  

  
  <a href="https://github.com/InnocentZero" aria-label="Open InnocentZero GitHub" target="_blank">
    <span class="icon is-large">
      <i class="fab fa-github fa-lg" aria-hidden="true" title="GitHub"></i>
    </span>
  </a>
  

  

  

  

  

  
  <a href="mailto:md-isfarul-haque@proton.me" aria-label="Email md-isfarul-haque@proton.me" target="_blank">
    <span class="icon is-large">
      <i class="far fa-envelope fa-lg" aria-hidden="true" title="email"></i>
    </span>
  </a>
  

  
  <a href="https:&#x2F;&#x2F;innocentzero.github.io&#x2F;blog/atom.xml" aria-label="Open atom xml feed" target="_blank">
    <span class="icon is-large">
      <i class="fas fa-rss fa-lg" aria-hidden="true" title="atom xml feed"></i>
    </span>
  </a>
  

  
  
  <a href=https:&#x2F;&#x2F;ww.gitlab.com aria-label="Open GitLab" target="_blank">
    <span class="icon is-large">
      <i class="fa-brands fa-gitlab fa-lg" aria-hidden="true" title=GitLab></i>
    </span>
  </a>
  
  
</span>

        </p>
        <p>
            
            
        </p>
    </footer>
</div>
</body>
</html>
